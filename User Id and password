#include<stdio.h>
#include<string.h>
struct userlogin {
	char user_id[15];
	char pass[15];	
}admin[3];

	struct cric{
		int wicket;
		int ball;
		int bat;
	};
	struct badminton{
		int racket;
		int shettle;
	}req_badminton[10],t_badminton;
	struct table_tennis{
		int rackets;
		int t_ball;
	}req_table_tennis[10],total_tt ;

//All the sports equipments
	struct s_equiment{
		struct cric t_cric;
		int voll;
		int ludo;
		int cards;
		int chess;
		struct badminton;
		int football;
		struct table_tennis;
	}request[50], total;

char *user_pass(void){
	strcpy(admin[0].user_id,"Huzaifa");
	strcpy(admin[1].user_id,"Daiyan");
	strcpy(admin[2].user_id,"Ilyas");
	strcpy(admin[0].pass,"abc123");
	strcpy(admin[1].pass,"abc456");
	strcpy(admin[2].pass,"abc789");
	
	int i, check_id=5, check_pass=5;
	char id[15],pass[15];
	puts("Enter user id: ");
	gets(id);
	puts("Enter user password: ");
	gets(pass);
//	printf("%s",userid[1]);
	while(check_id !=0 && check_pass!=0){
	for(i=0; i<=2; i++){
	check_id = strcmp(id, admin[i].user_id);
	if(check_id==0){
		check_pass = strcmp(pass,admin[i].pass);
	}
	if(check_id == 0 && check_pass == 0) {
		printf("Succesfully login as %s",id);
	break;
	}
	}
	if(check_id !=0){
	printf("This user doesn't exsist");
	puts("\nEnter user id: ");
	gets(id);
	}
	if(check_pass !=0){
	printf("This password is incorrect for this user");
	puts("\nEnter user password: ");
	gets(pass);
	}
	
}
	printf("\nEntering into system");
	return id;
//	puts(id);
}
	get_user(){
		
	}
// Function to issue sports item to Users
	void add_item(void){
	char cric_opt[6],sports[15] = "";
	int pass;
		do{
		 pass =0;
		printf("Enter sports equipment you want to add\n1.\"Enter Volleyball\" for Volleyball\n2.\"Enter Cricket\" for cricket\n3.\"Enter Table Tennis\" for table tennis\n4.\"Enter Badminton\" for Badminton \n5.\"Enter Football\" for football\n6.\"Enter Lodu\" for Lodu\n Enter options: ");
		scanf("%s",&sports);
		strcpy(sports,strlwr(sports));
//		printf("%d",total.football);
		if(strcmp(sports,"volleyball")==0){
			pass =1;
			if(total.voll != 0){
				total.voll = total.voll - 1;
				printf("VolleyBall succesfully issued\n");
				printf("The total volley left is: %d",total.voll);
				sleep(2);
			}
			else{
				printf("Error! The Volleyball is not available now");
			}
		}
		
		if(strcmp(strlwr(sports), "football")==0){
			pass =1;
			if(total.football != 0){
				
			total.football = total.football-1; 
			printf("TOTAL FOOTBALL LEFT is %d\n",total.football);
			printf("Football is succesfully issued");
			sleep(2);
			
			}
			else{ 
			printf("Error! Football is not available now");
			sleep(2);}
			
		}
			else if(strcmp(strlwr(sports), "chess")==0){
				pass = 1;
			if(total.chess!=0){
				
			total.chess = total.chess-1; 
			printf("Chess is succesfully issued\n");
			printf("TOTAL CHESS LEFT is %d",total.chess);
			sleep(2);
			
			}
			}
			else if(strcmp(strlwr(sports),"ludo")==0){
			pass =1;
			if(total.ludo!=0){	
			total.ludo = total.ludo-1; 
			printf("Lodu is succesfully issued\n");
			printf("Total Ludo left is %d",total.ludo);
			sleep(2);
			}
			else{ 
			printf("ERROR %s is not avaible",sports);
			sleep(2);}
			
		}
		
		else if(strcmp(strlwr(sports), "cricket")==0){
			pass = 1;
			printf("\nEnter Kit for whole Kit\nEnter Bat for bat only,\nEnter Ball for ball only,\nEnter Wicket for wicket only\nYour option:  ");
			scanf("%s",&cric_opt);
			
			if(total.t_cric.ball!=0 && total.t_cric.bat!=0 && total.t_cric.wicket!=0 && strcmp(cric_opt,strlwr("kit"))==0){
				pass =1;
				printf("Entered");
				total.t_cric.ball= total.t_cric.ball-1; 
				total.t_cric.bat= total.t_cric.bat-1; 
				total.t_cric.wicket= total.t_cric.wicket-1; 
				printf("Cricket Kit is succesfully issued\n");
				sleep(2);
			}
			
			else if(strcmp(cric_opt,strlwr("bat"))==0 && total.t_cric.bat!=0 ){
				pass =1;
				total.t_cric.bat= total.t_cric.bat-1; 
				printf("Bat succesfully issued and left is %d",total.t_cric.bat);
				sleep(2);
			}
			else if(strcmp(cric_opt,strlwr("ball"))==0 && total.t_cric.ball!=0){
				pass =1;
				total.t_cric.ball= total.t_cric.ball-1; 
				printf("Ball succesfully issued and left is %d",total.t_cric.ball);
				sleep(2);
			}
			else if(strcmp(cric_opt,strlwr("wicket"))==0 && total.t_cric.wicket!=0){
				pass = 1;
				total.t_cric.wicket= total.t_cric.wicket-1; 
				printf("Wicket succesfully issued and left is %d",total.t_cric.wicket);
				sleep(2);
			}			
			else{ 
				printf("ERROR! The %s is not available now ",cric_opt);
				sleep(2);}
			
		}
		if(pass == 0){
			printf("You entered invalid choice enter again\n\n");
			sleep(1);
		}
	}while(pass==0);
	printf("\nReturning Back to MENU");
	sleep(2);
		main_bar();
		

	}
	void Remove_item(void){
		
	}
	void Trace (void){
		
	}
	void lost_item(void){
		
	}
	void Report_Complain(void){
		
	}


void main_bar(void){
//		printf("\nEntering Into system");
//		sleep(3);
		switch_case:
		system("cls");
//		printf("Currently logged in as %s",Current_Log);
		printf("\n1.Issue an item \"Press a\"\n2.To Remove an issued item \"Press b\"\n3.Trace an item with id \"Press c\"\n4.Add a lost item \"Press d\"\ \n5.Report or add a complain \"Press e\"\n6.Quit program \"Press f\" \n7.Clear screen \"Press g\"");
		char options = '\0';
		printf("\nThe Option is:");
//		total.football = 5;
		scanf("%s",&options);
		switch(options){
			case 'a':
				system("cls");
				add_item();
				break;
			case'b':
				Remove_item();
				break;
			case'c':
				Trace();
				break;
			case'd':
				lost_item();
				break;
			case'e':
				Report_Complain();
				break;	
			case 'f' :
				printf("Closing Program");
				sleep(1);
				exit(1);
				break;
			case'g':
				system("cls");
				goto switch_case;
				break;
			default:
				printf("Enter Valid options");
				sleep(1);
				goto switch_case;
		}
		
		}


int main(){
	total.voll = 5;
	total.football = 5;
	total.chess = 5;
	total.ludo = 5;
	total.t_cric.ball =5;
	total.t_cric.bat =0;
	total.t_cric.wicket = 5; 
	user_pass();
	sleep(3);
	main_bar();
	
}
